

<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="utf-8">
  <meta content="A guide on Jina Primitive Data Types" name="description" />
<meta content="Jina, primitive data types" name="keywords" />

  <meta name="X-UA-Compatible" content="IE=edge">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@JinaAI_">
<meta name="twitter:creator" content="@JinaAI_">
<meta name="description"
      content="Jina is the cloud-native neural search solution powered by the state-of-the-art AI and deep learning">
<meta property="og:title" content="Jina Documentation">
<meta property="og:description"
      content="Jina is the cloud-native neural search solution powered by the state-of-the-art AI and deep learning">
<meta property="og:url" content="https://opensource.jina.ai">
<meta property="og:image" content="../../_static/banner.png">
<meta property="og:type" content="website">
<link rel="icon" href="../../_static/favicon.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  
  <title>A guide on Jina Primitive Data Types &mdash; Jina 1.0.1-master documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/main.css" type="text/css" />


  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
        <script src="../../_static/clipboard.min.js"></script>
        <script src="../../_static/copybutton.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav">
  <div id="showhide-navbar-btn" onclick="showhide_navbar();"></div>

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="https://docs.jina.ai">
          

          
            
            <img src="../../_static/jina-prod-logo.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            

          <div class="dropdown version">
            <button class="dropbtn version">1.0.1-master</button>
            <div class="dropdown-content">
              
              <a class="dropdown-item" href="/master">master</a>
              
              <a class="dropdown-item" href="/v0.9.28">0.9.28</a>
              
              <a class="dropdown-item" href="/v0.9.23">0.9.23</a>
              
              <a class="dropdown-item" href="/v0.9.22">0.9.22</a>
              
              <a class="dropdown-item" href="/v0.9.21">0.9.21</a>
              
              <a class="dropdown-item" href="/v0.9.20">0.9.20</a>
              
              <a class="dropdown-item" href="/v0.9.19">0.9.19</a>
              
              <a class="dropdown-item" href="/v0.9.18">0.9.18</a>
              
              <a class="dropdown-item" href="/v0.9.17">0.9.17</a>
              
              <a class="dropdown-item" href="/v0.9.16">0.9.16</a>
              
              <a class="dropdown-item" href="/v0.9.15">0.9.15</a>
              
              <a class="dropdown-item" href="/v0.9.14">0.9.14</a>
              
              <a class="dropdown-item" href="/v0.9.13">0.9.13</a>
              
              <a class="dropdown-item" href="/v0.9.12">0.9.12</a>
              
              <a class="dropdown-item" href="/v0.9.11">0.9.11</a>
              
              <a class="dropdown-item" href="/v0.9.10">0.9.10</a>
              
              <a class="dropdown-item" href="/v0.9.9">0.9.9</a>
              
              <a class="dropdown-item" href="/v0.9.8">0.9.8</a>
              
              <a class="dropdown-item" href="/v0.9.7">0.9.7</a>
              
              <a class="dropdown-item" href="/v0.9.6">0.9.6</a>
              
              <a class="dropdown-item" href="/v0.9.5">0.9.5</a>
              
              <a class="dropdown-item" href="/v0.9.3">0.9.3</a>
              
              <a class="dropdown-item" href="/v0.9.2">0.9.2</a>
              
              <a class="dropdown-item" href="/v0.9.1">0.9.1</a>
              
              <a class="dropdown-item" href="/v0.9.0">0.9.0</a>
              
              <a class="dropdown-item" href="/v0.8.22">0.8.22</a>
              
              <a class="dropdown-item" href="/v0.8.21">0.8.21</a>
              
            </div>
          </div>
            
          


          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Get Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../install/os/index.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../helloworld/index.html">Jina ‚ÄúHello, World!‚Äù üëãüåç</a></li>
<li class="toctree-l1"><a class="reference internal" href="../101/index.html">Jina 101: First Thing to Learn About Jina</a></li>
<li class="toctree-l1"><a class="reference internal" href="../flow/index.html">Using Flow API to Compose Your Jina Workflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="../io/index.html">Input and Output Functions in Jina</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli/exit.html">Gracefully Exit Jina</a></li>
<li class="toctree-l1"><a class="reference internal" href="../project-guide/project-guide.html">Project set up guide</a></li>
</ul>
<p class="caption"><span class="caption-text">API Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../cli/index.html">Jina Command-Line Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/jina.html">Jina Python API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../yaml/index.html">Jina YAML Syntax Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../proto/index.html">Jina Protobuf Specification</a></li>
</ul>
<p class="caption"><span class="caption-text">Advanced Usage</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../traversal/index.html">Understand Jina Recursive Document Representation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../flow/pattern.html">Common Design Patterns</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cross-multi-modality/index.html">Multi-modal and Cross-modal Search in Jina</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hub/index.html">Using Jina Pod with Docker Container</a></li>
<li class="toctree-l1"><a class="reference internal" href="../remote/index.html">Using Jina Pod Remotely</a></li>
<li class="toctree-l1"><a class="reference internal" href="../logging/index.html">Logging configuration in jina</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dashboard/index.html">Jina Dashboard</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simple_exec.html">Built-in Simple Executors and Reserved <code class="docutils literal notranslate"><span class="pre">uses</span></code> in Jina</a></li>
<li class="toctree-l1"><a class="reference internal" href="../restapi/index.html">Jina REST API Specification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../envs.html">OS Environment Variables Used in Jina</a></li>
<li class="toctree-l1"><a class="reference internal" href="../prevent_duplicate_indexing/index.html">Prevent Indexing Duplicates</a></li>
<li class="toctree-l1"><a class="reference internal" href="../incremental_indexing/index.html">Incremental Indexing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../crud/index.html">CRUD Operations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../optimization/index.html">Flow Optimization</a></li>
</ul>
<p class="caption"><span class="caption-text">Extensions</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../extend/executor.html">Guideline When Adding New Executor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../extend/mwu.html">A Minimum Working Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="../extend/driver.html">Guideline When Adding New Driver</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hub/publish-your-pod-image.html">Publish Your Pod Image to Jina Hub</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_schema.html">Jina API Schema for 3rd-Party Applications</a></li>
</ul>
<p class="caption"><span class="caption-text">Glossary</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../glossary/glossary.html">Glossary</a></li>
</ul>
<p class="caption"><span class="caption-text">Community</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../CONTRIBUTING.html">Contributing to Jina</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CONTRIBUTING.html#join-us-on-slack">Join Us on Slack!</a></li>
<li class="toctree-l1"><a class="reference internal" href="../RELEASE.html">Release &amp; Version Identifier</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CHANGELOG.html">Change Logs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../jep/index.html">Jina Enhancement Proposals (JEP)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq/dev.html">FAQ for Developers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq/user.html">FAQ for End-Users</a></li>
<li class="toctree-l1"><a class="reference internal" href="../docstring/docstring.html">Docstring guide</a></li>
</ul>
<p class="caption"><span class="caption-text">Indices and Tables</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../all_exec.html">List of 57 Executors in Jina</a></li>
<li class="toctree-l1"><a class="reference internal" href="../all_driver.html">List of 63 Drivers in Jina</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Jina</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          















<div role="navigation" aria-label="breadcrumbs navigation" class="nav-bar-header">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>A guide on Jina Primitive Data Types</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  
<div role="search" class="nav-bar-search">
  <form id="rtd-search-form" class="wy-form doc-searchbox" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs (Press / to focus)" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

</div>
<hr/>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="a-guide-on-jina-primitive-data-types">
<h1><a class="toc-backref" href="#id3">A guide on Jina Primitive Data Types</a><a class="headerlink" href="#a-guide-on-jina-primitive-data-types" title="Permalink to this headline">¬∂</a></h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This guide assumes you have a basic understanding of Jina, if you haven‚Äôt, please check out <a class="reference external" href="https://docs.jina.ai/chapters/101/index.html">Jina 101</a> first.</p>
</div>
<p>A primitive data type is a data type for which the programming language provides built-in support.
For example, when writing a Numpy or Tensorflow program, users perform matrix manipulation on multi-dimensional
arrays, such as <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> or <code class="docutils literal notranslate"><span class="pre">tensor</span></code>.</p>
<p>Jina introduced the new <code class="docutils literal notranslate"><span class="pre">jina.types</span></code> module since <code class="docutils literal notranslate"><span class="pre">v0.8</span></code>.
Primitive data types complete Jina‚Äôs design by clarifying the low-level data representation in Jina, yielding a much simpler, safer, and faster interface on the high-level.
More importantly, they ensure the universality and extensibility for Jina in the long-term.</p>
<div class="contents topic" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#a-guide-on-jina-primitive-data-types" id="id3">A guide on Jina Primitive Data Types</a></p>
<ul>
<li><p><a class="reference internal" href="#motivation" id="id4">Motivation</a></p></li>
<li><p><a class="reference internal" href="#before-you-start" id="id5">Before you start</a></p></li>
<li><p><a class="reference internal" href="#overview" id="id6">Overview</a></p></li>
<li><p><a class="reference internal" href="#jina-types-in-action" id="id7">Jina Types in Action</a></p></li>
<li><p><a class="reference internal" href="#design-decisions" id="id8">Design Decisions</a></p></li>
<li><p><a class="reference internal" href="#final-words" id="id9">Final Words</a></p></li>
<li><p><a class="reference internal" href="#what-s-next" id="id10">What‚Äôs Next</a></p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="motivation">
<h2><a class="toc-backref" href="#id4">Motivation</a><a class="headerlink" href="#motivation" title="Permalink to this headline">¬∂</a></h2>
<p>Following a progressive manner of software design principle, Jina is shipped with multiple layers of abstractions.
Each layer targets a specific developer group.
As a consequence, developers can choose different levels of API to interact with Jina and accomplish their tasks.</p>
<p>Before we introduce the Jina primitive data types, <code class="docutils literal notranslate"><span class="pre">drivers</span></code> help the <code class="docutils literal notranslate"><span class="pre">executors</span></code> to handle the network traffic by directly interacting with the Protobuf messages.
Thus our back-end engineers have to generate or parse a stream of bytes in the network layer.
This is not aligned with the design principle of Jina.</p>
</div>
<div class="section" id="before-you-start">
<h2><a class="toc-backref" href="#id5">Before you start</a><a class="headerlink" href="#before-you-start" title="Permalink to this headline">¬∂</a></h2>
<p>We expect you have a clean Python 3.7/3.8/3.9 (virtual) build.
With Jina installed on your machine:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip install -U jina
</pre></div>
</div>
</div>
<div class="section" id="overview">
<h2><a class="toc-backref" href="#id6">Overview</a><a class="headerlink" href="#overview" title="Permalink to this headline">¬∂</a></h2>
<p>Jina primitive data types can be categorised into <strong>basic types</strong>, <strong>composite types</strong> and <strong>derived types</strong>.
A <strong>basic data type</strong> represents a single real-world object, such as <code class="xref py py-class docutils literal notranslate"><span class="pre">Document</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Querylang</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">NdArray</span></code>.
To enable a Pythonic interface and keeps the data safe, we introduced <strong>composite data types</strong>, such as <code class="xref py py-class docutils literal notranslate"><span class="pre">DocumentSet</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">QueryLangSet</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Request</span></code>.
Besides, we created several <strong>derived types</strong>, such as <code class="xref py py-class docutils literal notranslate"><span class="pre">MultimodalDocument</span></code>.</p>
<table class="colwidths-given docutils align-default" id="id2">
<caption><span class="caption-text">List of Jina Data Types</span><a class="headerlink" href="#id2" title="Permalink to this table">¬∂</a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Document</p></td>
<td><p>basic</p></td>
<td><p>A Pythonic interface to access and manipulate <code class="xref py py-class docutils literal notranslate"><span class="pre">DocumentProto</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p>MultimodalDocument</p></td>
<td><p>derived</p></td>
<td><p>A Pythonic interface to access and manipulate modalities at chunk level derived from <code class="xref py py-class docutils literal notranslate"><span class="pre">Document</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p>DocumentSet</p></td>
<td><p>composite</p></td>
<td><p>A mutable sequence of <code class="xref py py-class docutils literal notranslate"><span class="pre">Document</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p>ChunkSet</p></td>
<td><p>derived</p></td>
<td><p>A view of a sequence of <code class="xref py py-class docutils literal notranslate"><span class="pre">DocumentSet</span></code> at a higher granularity level derived from <code class="xref py py-class docutils literal notranslate"><span class="pre">DocumentSet</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p>MatchSet</p></td>
<td><p>derived</p></td>
<td><p>A view of a sequence of matched <code class="xref py py-class docutils literal notranslate"><span class="pre">DocumentSet</span></code> derived from <code class="xref py py-class docutils literal notranslate"><span class="pre">DocumentSet</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p>Message</p></td>
<td><p>composite</p></td>
<td><p>A Pythonic interface to access and manipulate <code class="xref py py-class docutils literal notranslate"><span class="pre">MessageProto</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p>NdArray</p></td>
<td><p>basic</p></td>
<td><p>Representing fixed-size multidimensional items.</p></td>
</tr>
<tr class="row-odd"><td><p>DenseNdArray</p></td>
<td><p>derived</p></td>
<td><p>A derived type based on <code class="xref py py-class docutils literal notranslate"><span class="pre">NdArray</span></code> which supports quantization.</p></td>
</tr>
<tr class="row-even"><td><p>SparseNdArray</p></td>
<td><p>derived</p></td>
<td><p>A derived type based on <code class="xref py py-class docutils literal notranslate"><span class="pre">NdArray</span></code> which stores non-zero entries.</p></td>
</tr>
<tr class="row-odd"><td><p>QueryLang</p></td>
<td><p>basic</p></td>
<td><p>A Pythonic interface to access and manipulate <code class="xref py py-class docutils literal notranslate"><span class="pre">QueryLangProto</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p>QueryLangSet</p></td>
<td><p>composite</p></td>
<td><p>A mutable sequence of <code class="xref py py-class docutils literal notranslate"><span class="pre">QueryLang</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p>Request</p></td>
<td><p>basic</p></td>
<td><p>A Pythonic interface to access and manipulate <code class="xref py py-class docutils literal notranslate"><span class="pre">RequestProto</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p>NamedScore</p></td>
<td><p>basic</p></td>
<td><p>A Pythonic interface to access and manipulate <code class="xref py py-class docutils literal notranslate"><span class="pre">NamedScoreProto</span></code>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="jina-types-in-action">
<h2><a class="toc-backref" href="#id7">Jina Types in Action</a><a class="headerlink" href="#jina-types-in-action" title="Permalink to this headline">¬∂</a></h2>
<p>In this section, we will introduce how to use Jina types.
More specifically, we will be focusing on jina <code class="xref py py-class docutils literal notranslate"><span class="pre">Document</span></code> primitive data type.
Since as a user, you might use <code class="xref py py-class docutils literal notranslate"><span class="pre">Document</span></code> primitive type daily.
Besides, the other types shares the same design rationale as <code class="xref py py-class docutils literal notranslate"><span class="pre">Document</span></code> primitive data type.</p>
<p>We have three properties designed to access a <code class="xref py py-class docutils literal notranslate"><span class="pre">Document</span></code>, include <code class="xref py py-meth docutils literal notranslate"><span class="pre">text()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">blob()</span></code> and <code class="xref py py-meth docutils literal notranslate"><span class="pre">buffer()</span></code>.
A Jina <code class="xref py py-class docutils literal notranslate"><span class="pre">Document</span></code> object is expected to have <strong>one of</strong> these three properties as the <code class="xref py py-meth docutils literal notranslate"><span class="pre">content()</span></code> of a <code class="xref py py-class docutils literal notranslate"><span class="pre">Document</span></code>.
For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">jina</span> <span class="kn">import</span> <span class="n">Document</span>

<span class="n">d</span> <span class="o">=</span> <span class="n">Document</span><span class="p">()</span>
<span class="c1"># set content to text, same as d.text = ...</span>
<span class="n">d</span><span class="o">.</span><span class="n">content</span> <span class="o">=</span> <span class="s1">&#39;hello jina&#39;</span>
<span class="c1"># set content to buffer, same as d.buffer = ...</span>
<span class="n">d</span><span class="o">.</span><span class="n">content</span> <span class="o">=</span> <span class="sa">b</span><span class="s1">&#39;1e2f2c&#39;</span>
<span class="c1"># set content to blob, same as `d.blob = ...</span>
<span class="n">d</span><span class="o">.</span><span class="n">content</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">])</span>
</pre></div>
</div>
<p>Jina will automatically infer to MIME type based on the <code class="xref py py-meth docutils literal notranslate"><span class="pre">content()</span></code> of the <code class="xref py py-class docutils literal notranslate"><span class="pre">Document</span></code>.
The use case of the <code class="xref py py-class docutils literal notranslate"><span class="pre">Document</span></code> is dependent on your data:</p>
<ul class="simple">
<li><p>Use <code class="xref py py-meth docutils literal notranslate"><span class="pre">text()</span></code> if you want to index/query textual data.</p></li>
<li><p>Use <code class="xref py py-meth docutils literal notranslate"><span class="pre">blob()</span></code> if you want to index/query image/video/audio.</p></li>
<li><p>Use <code class="xref py py-meth docutils literal notranslate"><span class="pre">buffer()</span></code> if you are not sure about the exact data format.</p></li>
</ul>
<p>To create a document from constructor:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">jina</span> <span class="kn">import</span> <span class="n">Document</span>

<span class="c1"># Create a document from constructor</span>
<span class="n">d0</span> <span class="o">=</span> <span class="n">Document</span><span class="p">(</span><span class="s1">&#39;hello jina!&#39;</span><span class="p">)</span> <span class="c1"># from string</span>
<span class="n">d1</span> <span class="o">=</span> <span class="n">Document</span><span class="p">({</span><span class="s1">&#39;text&#39;</span><span class="p">:</span> <span class="s1">&#39;hello jina!&#39;</span><span class="p">})</span> <span class="c1"># from dict</span>
<span class="n">d2</span> <span class="o">=</span> <span class="n">Document</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;j</span><span class="se">\x0c</span><span class="s1">hello jina!&#39;</span><span class="p">)</span> <span class="c1"># from buffer</span>
<span class="n">d3</span> <span class="o">=</span> <span class="n">Document</span><span class="p">(</span><span class="s1">&#39;{&quot;text&quot;: &quot;hello jina!&quot;}&#39;</span><span class="p">)</span> <span class="c1"># from json</span>

<span class="c1"># Create a document from protobuf</span>
<span class="kn">from</span> <span class="nn">jina.proto</span> <span class="kn">import</span> <span class="n">jina_pb2</span>
<span class="n">d</span> <span class="o">=</span> <span class="n">jina_pb2</span><span class="o">.</span><span class="n">DocumentProto</span><span class="p">()</span>
<span class="n">d</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s1">&#39;hello jina!&#39;</span>
<span class="n">d4</span> <span class="o">=</span> <span class="n">Document</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
</pre></div>
</div>
<p>As was introduced before, a <code class="xref py py-class docutils literal notranslate"><span class="pre">DocumentSet</span></code> is a mutable sequence of <code class="xref py py-class docutils literal notranslate"><span class="pre">Document</span></code>.
To create &amp; access a <code class="xref py py-class docutils literal notranslate"><span class="pre">DocumentSet</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">jina</span> <span class="kn">import</span> <span class="n">Document</span>
<span class="kn">from</span> <span class="nn">jina.types.sets.document</span> <span class="kn">import</span> <span class="n">DocumentSet</span>

<span class="c1"># First, create 2 documents</span>
<span class="n">d0</span> <span class="o">=</span> <span class="n">Document</span><span class="p">(</span><span class="n">content</span><span class="o">=</span><span class="s1">&#39;doc0&#39;</span><span class="p">)</span>
<span class="n">d1</span> <span class="o">=</span> <span class="n">Document</span><span class="p">(</span><span class="n">content</span><span class="o">=</span><span class="s1">&#39;doc1&#39;</span><span class="p">)</span>
<span class="c1"># Initialize a document set</span>
<span class="n">ds</span> <span class="o">=</span> <span class="n">DocumentSet</span><span class="p">([</span><span class="n">d0</span><span class="p">,</span> <span class="n">d1</span><span class="p">])</span>
<span class="c1"># Add a new document.</span>
<span class="n">d2</span> <span class="o">=</span> <span class="n">Document</span><span class="p">(</span><span class="n">content</span><span class="o">=</span><span class="s1">&#39;doc2&#39;</span><span class="p">)</span>
<span class="n">ds</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">d2</span><span class="p">)</span>
</pre></div>
</div>
<p>Once you create an instance of <code class="xref py py-class docutils literal notranslate"><span class="pre">DocumentSet</span></code>, Jina offers you a Pythonic interface to manipulate the set.
For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">jina</span> <span class="kn">import</span> <span class="n">Document</span>
<span class="kn">from</span> <span class="nn">jina.types.sets.document</span> <span class="kn">import</span> <span class="n">DocumentSet</span>

<span class="c1"># First, create 2 documents</span>
<span class="n">d0</span> <span class="o">=</span> <span class="n">Document</span><span class="p">(</span><span class="n">content</span><span class="o">=</span><span class="s1">&#39;doc0&#39;</span><span class="p">)</span>
<span class="n">d1</span> <span class="o">=</span> <span class="n">Document</span><span class="p">(</span><span class="n">content</span><span class="o">=</span><span class="s1">&#39;doc1&#39;</span><span class="p">)</span>
<span class="c1"># Initialize a document set</span>
<span class="n">ds</span> <span class="o">=</span> <span class="n">DocumentSet</span><span class="p">([</span><span class="n">d0</span><span class="p">,</span> <span class="n">d1</span><span class="p">])</span>
<span class="c1"># Get the number of docs inside the set.</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">ds</span><span class="p">))</span>
<span class="c1"># Get document by index</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="c1"># Reverse a documentset</span>
<span class="n">ds</span><span class="o">.</span><span class="n">reverse</span><span class="p">()</span>
<span class="c1"># Remove all contents from a document set</span>
<span class="n">ds</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</pre></div>
</div>
<p>You might be wondering <em>why do we need a document set</em>?
The answer is Jina‚Äôs recursive data structure.
To put it simply, Jina offers a way to represent documents in a recursive manner.
A Jina <code class="xref py py-class docutils literal notranslate"><span class="pre">Document</span></code> might contain a list of child <code class="xref py py-class docutils literal notranslate"><span class="pre">Document</span></code>.
This recursive data structure allows us to query <code class="xref py py-class docutils literal notranslate"><span class="pre">Document</span></code> at different granularity levels.
Such as match at the paragraph level, or even at the sentence level.
For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">jina</span> <span class="kn">import</span> <span class="n">Document</span>

<span class="c1"># First, create 2 documents</span>
<span class="n">chunk0</span> <span class="o">=</span> <span class="n">Document</span><span class="p">(</span><span class="n">content</span><span class="o">=</span><span class="s1">&#39;sentence0&#39;</span><span class="p">)</span>
<span class="n">chunk1</span> <span class="o">=</span> <span class="n">Document</span><span class="p">(</span><span class="n">content</span><span class="o">=</span><span class="s1">&#39;sentence1&#39;</span><span class="p">)</span>
<span class="n">document</span> <span class="o">=</span> <span class="n">Document</span><span class="p">()</span>
<span class="c1"># Add chunks to the document</span>
<span class="n">document</span><span class="o">.</span><span class="n">chunks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">chunk0</span><span class="p">)</span>
<span class="n">document</span><span class="o">.</span><span class="n">chunks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">chunk1</span><span class="p">)</span>
<span class="c1"># Check the type of chunks</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">document</span><span class="o">.</span><span class="n">chunks</span><span class="p">))</span>
</pre></div>
</div>
<p>If you print the type of <code class="xref py py-attr docutils literal notranslate"><span class="pre">chunks</span></code>, you will find out it‚Äôs named <code class="docutils literal notranslate"><span class="pre">&lt;class</span> <span class="pre">'jina.types.sets.chunk.ChunkSet'&gt;</span></code>, a derived data type based on <code class="xref py py-class docutils literal notranslate"><span class="pre">DocumentSet</span></code>.
<code class="xref py py-class docutils literal notranslate"><span class="pre">ChunkSet</span></code> added extra logic to handle logics such as  <code class="xref py py-meth docutils literal notranslate"><span class="pre">granularity()</span></code> and <code class="xref py py-meth docutils literal notranslate"><span class="pre">adjacency()</span></code>.
Similarly, we have <code class="xref py py-class docutils literal notranslate"><span class="pre">MatchSet</span></code> manage the matched documents given a user query.</p>
<p>Last but now least, if you are working on the document with different modalities, <code class="xref py py-class docutils literal notranslate"><span class="pre">MultimodalDocument</span></code> is the right Jina data type to use.
For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">jina.types.document.multimodal</span> <span class="kn">import</span> <span class="n">MultimodalDocument</span>

<span class="n">visual_content</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">])</span>
<span class="n">textual_content</span> <span class="o">=</span> <span class="s1">&#39;hello jina!&#39;</span>
<span class="n">multimodal_document</span> <span class="o">=</span> <span class="n">MultimodalDocument</span><span class="p">(</span>
    <span class="n">modality_content_map</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;visual&#39;</span><span class="p">:</span> <span class="n">visual_content</span><span class="p">,</span> <span class="s1">&#39;textual&#39;</span><span class="p">:</span> <span class="n">textual_content</span><span class="p">}</span>
<span class="p">)</span>
<span class="c1"># Check the modalities of the document</span>
<span class="nb">print</span><span class="p">(</span><span class="n">multimodal_document</span><span class="o">.</span><span class="n">modalities</span><span class="p">)</span>
<span class="c1"># Get the content of document by modality name</span>
<span class="n">content</span> <span class="o">=</span> <span class="n">multimodal_document</span><span class="p">[</span><span class="s1">&#39;visual&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="design-decisions">
<h2><a class="toc-backref" href="#id8">Design Decisions</a><a class="headerlink" href="#design-decisions" title="Permalink to this headline">¬∂</a></h2>
<p>While designing and implementing Jina primitive data types, we have been always kept the following principles in mind:</p>
<p><strong>View, not copy</strong></p>
<p>We do not want another storage layer upon Protobuf.
The objective of Jina primitive data type is to provide an enhanced <strong>view</strong> of the protobuf <strong>storage</strong> by maintaining a reference.</p>
<p><strong>Delegate, not replicate</strong></p>
<p>Protobuf object provides attribute access already.
For simple data types such as <code class="xref py py-attr docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-attr docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-attr docutils literal notranslate"><span class="pre">int</span></code>, the experience is good enough.
We do not want to replicate every attribute defined in Protobuf again in the Jina data type, but focus on the ones that need unique logic or particular attention.</p>
<p><strong>More than a Pythonic interface</strong></p>
<p>Jina data type is compatible with the Python idiom.
Moreover, it summarizes common patterns used in the drivers and the client and makes those patterns safer and easier to use.
For example, <code class="xref py py-attr docutils literal notranslate"><span class="pre">doc_id</span></code> conversion is previously implemented inside different drivers, which is error-prone.</p>
<p>Reference to the design decisions can be find <a class="reference external" href="https://hanxiao.io/2020/11/22/Primitive-Data-Types-in-Neural-Search-System/#design-decisions">here</a> .</p>
</div>
<div class="section" id="final-words">
<h2><a class="toc-backref" href="#id9">Final Words</a><a class="headerlink" href="#final-words" title="Permalink to this headline">¬∂</a></h2>
<p>In this guide, we introduced why we need Jina primitive data types,
how we organize Jina primitive data types.
Apart from that, we gave some concrete examples of how to use Jina primitive data types.
Finally, we recapped the design decisions made while designing Jina primitive data types.
We hope now you have a better understanding of Jina primitive data types.</p>
</div>
<div class="section" id="what-s-next">
<h2><a class="toc-backref" href="#id10">What‚Äôs Next</a><a class="headerlink" href="#what-s-next" title="Permalink to this headline">¬∂</a></h2>
<p>Thanks for your time &amp; effort while reading this guide!
If you still have questions, feel free to <a class="reference external" href="https://github.com/jina-ai/jina/issues">submit an issue</a> or post a message in our <a class="reference external" href="https://docs.jina.ai/chapters/CONTRIBUTING.html#join-us-on-slack">community slack channel</a> .</p>
<p>To gain a deeper knowledge on the implementation of Jina primitive data types, you can find the source code <a class="reference external" href="https://github.com/jina-ai/jina/tree/master/jina/types">here</a>.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    

    <hr/>

    <div role="contentinfo">
        <nav class="devsite-footer-linkboxes nocontent" aria-label="Footer links">

            <ul class="devsite-footer-linkboxes-list">

                <li class="devsite-footer-linkbox ">
                    <h3 class="devsite-footer-linkbox-heading no-link">Stay connected</h3>
                    <ul class="devsite-footer-linkbox-list">

                        <li class="devsite-footer-linkbox-item">

                            <a href="https://github.com/jina-ai/jina" class="devsite-footer-linkbox-link gc-analytics-event"
                               data-category="Site-Wide Custom Events" data-label="Footer Link (index 2)">

                                <i class="fab fa-github"></i> GitHub

                            </a>

                        </li>

                        <li class="devsite-footer-linkbox-item">

                            <a href="https://www.linkedin.com/company/jinaai/" class="devsite-footer-linkbox-link gc-analytics-event"
                               data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">

                                <i class="fab fa-linkedin"></i> LinkedIn

                            </a>

                        </li>



                        <li class="devsite-footer-linkbox-item">

                            <a href="https://twitter.com/JinaAI_" class="devsite-footer-linkbox-link gc-analytics-event"
                               data-category="Site-Wide Custom Events" data-label="Footer Link (index 3)">

                                <i class="fab fa-twitter"></i> Twitter

                            </a>

                        </li>

                        <li class="devsite-footer-linkbox-item">

                            <a href="https://www.youtube.com/c/JinaAI" class="devsite-footer-linkbox-link gc-analytics-event"
                               data-category="Site-Wide Custom Events" data-label="Footer Link (index 4)">

                                <i class="fab fa-youtube"></i> YouTube

                            </a>

                        </li>

                    </ul>
                </li>

                <li class="devsite-footer-linkbox ">
                    <h3 class="devsite-footer-linkbox-heading no-link">Support</h3>
                    <ul class="devsite-footer-linkbox-list">
                        <li class="devsite-footer-linkbox-item">

                            <a href="https://slack.jina.ai"
                               class="devsite-footer-linkbox-link gc-analytics-event"
                               data-category="Site-Wide Custom Events" data-label="Footer Link (index 3)">

                                <i class="fab fa-slack"></i> Slack community

                            </a>

                        </li>

                        <li class="devsite-footer-linkbox-item">

                            <a href="https://github.com/jina-ai/jina/issues"
                               class="devsite-footer-linkbox-link gc-analytics-event"
                               data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">

                                Issue tracker

                            </a>

                        </li>

                        <li class="devsite-footer-linkbox-item">

                            <a href="https://github.com/jina-ai/jina/blob/master/CHANGELOG.md"
                               class="devsite-footer-linkbox-link gc-analytics-event"
                               data-category="Site-Wide Custom Events" data-label="Footer Link (index 2)">

                                Release notes

                            </a>

                        </li>



                        <li class="devsite-footer-linkbox-item">

                            <a href="https://career.jina.ai"
                               class="devsite-footer-linkbox-link gc-analytics-event"
                               data-category="Site-Wide Custom Events" data-label="Footer Link (index 4)">

                                Career@Jina AI

                            </a>

                        </li>


                    </ul>
                </li>

            </ul>

        </nav>
        <p>
            
            &copy; Copyright Jina AI Limited. All rights reserved.
            <span class="lastupdated">
        Last updated on Feb 10, 2021.
      </span>

        </p>
    </div> 

</footer>
        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });

      function showhide_navbar() {
      var x = document.getElementsByClassName("wy-nav-side")[0];
      var y = document.getElementsByClassName("wy-nav-content-wrap")[0];
      var z = document.getElementById("showhide-navbar-btn");
      if (x.style.display === "none") {
        x.style.display = "block";
        y.style.marginLeft = "300px";
        z.style.left = "300px";
      } else {
        x.style.display = "none";
        y.style.marginLeft = "0";
        z.style.left = "0px";
      }
    }

  </script>

  <!-- Search box becomes active when you press the slash(/) key anywhere on the page-->
  <script>
    const body = document.querySelector('body');
    const searchBox = document.querySelector('form').querySelector('input[type="text"]');

    body.addEventListener('keyup', event => {
      event.preventDefault()
      if (event.key === '/') {
        searchBox.focus();
      }
    });
  </script>

  
  
    
    <!-- Theme Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-164627626-3', 'auto');
    ga('send', 'pageview');
    </script>

    
   

</body>
</html>
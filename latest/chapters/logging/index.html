

<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="utf-8">
  <meta content="A guide on logging configuration in Jina" name="description" />
<meta content="Jina, logging" name="keywords" />

  <meta name="X-UA-Compatible" content="IE=edge">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@JinaAI_">
<meta name="twitter:creator" content="@JinaAI_">
<meta name="description"
      content="Jina is the cloud-native neural search solution powered by the state-of-the-art AI and deep learning">
<meta property="og:title" content="Jina Documentation">
<meta property="og:description"
      content="Jina is the cloud-native neural search solution powered by the state-of-the-art AI and deep learning">
<meta property="og:url" content="https://opensource.jina.ai">
<meta property="og:image" content="../../_static/banner.png">
<meta property="og:type" content="website">
<link rel="icon" href="../../_static/favicon.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  
  <title>Configuring Logging &mdash; Jina 2.0.0rc5 documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/main.css" type="text/css" />


  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/clipboard.min.js"></script>
        <script src="../../_static/copybutton.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex/" />
    <link rel="search" title="Search" href="../../search/" />
    <link rel="next" title="Exiting a Flow" href="../cli/exit/" />
    <link rel="prev" title="Using Sparse Embeddings" href="../sparse/" /> 
</head>

<body class="wy-body-for-nav">
  <div id="showhide-navbar-btn" onclick="showhide_navbar();"></div>

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="https://docs.jina.ai">
          

          
            
            <img src="../../_static/jina-prod-logo.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            

          <div class="dropdown version">
            <button class="dropbtn version">2.0.0rc5</button>
            <div class="dropdown-content">
              
              <a class="dropdown-item" href="/master">master</a>
              
              <a class="dropdown-item" href="/v1.3.0">1.3.0</a>
              
              <a class="dropdown-item" href="/v1.2.4">1.2.4</a>
              
              <a class="dropdown-item" href="/v1.2.2">1.2.2</a>
              
              <a class="dropdown-item" href="/v1.2.1">1.2.1</a>
              
              <a class="dropdown-item" href="/v1.1.9">1.1.9</a>
              
              <a class="dropdown-item" href="/v1.1.8">1.1.8</a>
              
              <a class="dropdown-item" href="/v1.1.7">1.1.7</a>
              
              <a class="dropdown-item" href="/v1.1.6">1.1.6</a>
              
              <a class="dropdown-item" href="/v1.1.5">1.1.5</a>
              
              <a class="dropdown-item" href="/v1.1.4">1.1.4</a>
              
              <a class="dropdown-item" href="/v1.1.3">1.1.3</a>
              
              <a class="dropdown-item" href="/v1.1.2">1.1.2</a>
              
              <a class="dropdown-item" href="/v1.1.1">1.1.1</a>
              
              <a class="dropdown-item" href="/v1.1.0">1.1.0</a>
              
              <a class="dropdown-item" href="/v1.0.9">1.0.9</a>
              
              <a class="dropdown-item" href="/v1.0.7">1.0.7</a>
              
              <a class="dropdown-item" href="/v1.0.6">1.0.6</a>
              
              <a class="dropdown-item" href="/v1.0.5">1.0.5</a>
              
              <a class="dropdown-item" href="/v1.0.4">1.0.4</a>
              
              <a class="dropdown-item" href="/v1.0.3">1.0.3</a>
              
              <a class="dropdown-item" href="/v1.0.2">1.0.2</a>
              
              <a class="dropdown-item" href="/v1.0.1">1.0.1</a>
              
              <a class="dropdown-item" href="/v1.0.0">1.0.0</a>
              
              <a class="dropdown-item" href="/v0.9.8">0.9.8</a>
              
              <a class="dropdown-item" href="/v0.9.7">0.9.7</a>
              
              <a class="dropdown-item" href="/v0.9.6">0.9.6</a>
              
              <a class="dropdown-item" href="/v0.9.5">0.9.5</a>
              
              <a class="dropdown-item" href="/v0.9.4">0.9.4</a>
              
              <a class="dropdown-item" href="/v0.9.34">0.9.34</a>
              
              <a class="dropdown-item" href="/v0.9.33">0.9.33</a>
              
              <a class="dropdown-item" href="/v0.9.3">0.9.3</a>
              
              <a class="dropdown-item" href="/v0.9.28">0.9.28</a>
              
              <a class="dropdown-item" href="/v0.9.23">0.9.23</a>
              
              <a class="dropdown-item" href="/v0.9.22">0.9.22</a>
              
              <a class="dropdown-item" href="/v0.9.21">0.9.21</a>
              
              <a class="dropdown-item" href="/v0.9.20">0.9.20</a>
              
              <a class="dropdown-item" href="/v0.9.19">0.9.19</a>
              
              <a class="dropdown-item" href="/v0.9.18">0.9.18</a>
              
              <a class="dropdown-item" href="/v0.9.17">0.9.17</a>
              
              <a class="dropdown-item" href="/v0.9.16">0.9.16</a>
              
              <a class="dropdown-item" href="/v0.9.15">0.9.15</a>
              
              <a class="dropdown-item" href="/v0.9.14">0.9.14</a>
              
              <a class="dropdown-item" href="/v0.9.13">0.9.13</a>
              
              <a class="dropdown-item" href="/v0.9.12">0.9.12</a>
              
              <a class="dropdown-item" href="/v0.9.11">0.9.11</a>
              
              <a class="dropdown-item" href="/v0.9.10">0.9.10</a>
              
              <a class="dropdown-item" href="/v0.9.9">0.9.9</a>
              
              <a class="dropdown-item" href="/v0.9.8">0.9.8</a>
              
              <a class="dropdown-item" href="/v0.9.7">0.9.7</a>
              
              <a class="dropdown-item" href="/v0.9.6">0.9.6</a>
              
              <a class="dropdown-item" href="/v0.9.5">0.9.5</a>
              
              <a class="dropdown-item" href="/v0.9.3">0.9.3</a>
              
              <a class="dropdown-item" href="/v0.9.2">0.9.2</a>
              
              <a class="dropdown-item" href="/v0.9.1">0.9.1</a>
              
              <a class="dropdown-item" href="/v0.9.0">0.9.0</a>
              
              <a class="dropdown-item" href="/v0.8.22">0.8.22</a>
              
              <a class="dropdown-item" href="/v0.8.21">0.8.21</a>
              
            </div>
          </div>
            
          


          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Jina Core</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../core/introduction/">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install/">Installation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../core/guides/">Developer Guides</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../core/setup/">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../my_first_jina_app/">Building Your First Jina App</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install/ide-speedup/">Speeding Up Development in PyCharm and VSCode</a></li>
<li class="toctree-l2"><a class="reference internal" href="../primitive_data_type/">Primitive Data Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mime-type/">MIME Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../traversal/">Recursive Document Representation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../executors/">Processing Documents with Executors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../simple_exec/">Built-in Simple Executors and Reserved <code class="docutils literal notranslate"><span class="pre">uses</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../extend/executor/">Adding New Executors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../peas-and-pods/">Peas and Pods</a></li>
<li class="toctree-l2"><a class="reference internal" href="../extend/driver/">Adding New Drivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../flow/">Composing a Search Workflow with the Flow API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../input_output/">Inputs and Outputs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../crud/">CRUD Operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cross_multi_modality/">Multi-modal and Cross-modal Search</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sparse/">Using Sparse Embeddings</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Configuring Logging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli/exit/">Exiting a Flow</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dump-reload/">Rolling Updates and Query While Indexing in Jina</a></li>
<li class="toctree-l2"><a class="reference internal" href="../evaluation/">Evaluating a Flow</a></li>
<li class="toctree-l2"><a class="reference internal" href="../optimization/">Optimizing a Flow</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ranker/">Ranking Results</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ranker_trainer/">A guide on Jina Ranker Trainer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../prevent_duplicate_indexing/">Preventing Duplicate Indexing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../incremental_indexing/">Incremental Indexing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../parallel/">Parallelization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../batching/">Batching</a></li>
<li class="toctree-l2"><a class="reference internal" href="../request_size/">Request Size</a></li>
<li class="toctree-l2"><a class="reference internal" href="../remote/">Distributing Jina Remotely</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stress/">Cloud Benchmark &amp; Deployment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../envs/">OS Environment Variables Used in Jina</a></li>
<li class="toctree-l2"><a class="reference internal" href="../flow/pattern/">Common Design Patterns</a></li>
<li class="toctree-l2"><a class="reference internal" href="../autocomplete/">Autocomplete commands on Bash, Zsh and Fish</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../core/api_references/">API Reference</a></li>
</ul>
<p class="caption"><span class="caption-text">Jina Dashboard</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../dashboard/introduction/">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dashboard/guides/">Developer Guides</a></li>
</ul>
<p class="caption"><span class="caption-text">Jina Hub</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../hub/introduction/">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hub/guides/">Developer Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hub/api_references/">API Reference</a></li>
</ul>
<p class="caption"><span class="caption-text">Jina Box</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../box/introduction/">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../box/guides/">Developer Guides</a></li>
</ul>
<p class="caption"><span class="caption-text">Glossary</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../glossary/">Glossary</a></li>
</ul>
<p class="caption"><span class="caption-text">Community</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../CONTRIBUTING/">Contributing to Jina</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CONTRIBUTING/#join-us-on-slack">Join Us on Slack!</a></li>
<li class="toctree-l1"><a class="reference internal" href="../RELEASE/">Release &amp; Version Identifier</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CHANGELOG/">Change Logs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../jep/">Jina Enhancement Proposals (JEP)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../troubleshooting/">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq/dev/">FAQ for Developers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq/user/">FAQ for End-Users</a></li>
<li class="toctree-l1"><a class="reference internal" href="../docstring/">Docstring Guide</a></li>
</ul>
<p class="caption"><span class="caption-text">Indices and Tables</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../all_exec/">List of 123 Executors in Jina</a></li>
<li class="toctree-l1"><a class="reference internal" href="../all_driver/">List of 62 Drivers in Jina</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../">Jina</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          















<div role="navigation" aria-label="breadcrumbs navigation" class="nav-bar-header">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../core/guides/">Developer Guides</a> &raquo;</li>
        
      <li>Configuring Logging</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  
<div role="search" class="nav-bar-search">
  <form id="rtd-search-form" class="wy-form doc-searchbox" action="../../search/" method="get">
    <input type="text" name="q" placeholder="Search docs (Press / to focus)" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

</div>
<hr/>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="configuring-logging">
<h1><a class="toc-backref" href="#id4">Configuring Logging</a><a class="headerlink" href="#configuring-logging" title="Permalink to this headline">¶</a></h1>
<div class="contents topic" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#configuring-logging" id="id4">Configuring Logging</a></p>
<ul>
<li><p><a class="reference internal" href="#motivation" id="id5">Motivation</a></p></li>
<li><p><a class="reference internal" href="#before-you-start" id="id6">Before you start</a></p></li>
<li><p><a class="reference internal" href="#overview" id="id7">Overview</a></p></li>
<li><p><a class="reference internal" href="#logging-configuration-in-action" id="id8">Logging Configuration in Action</a></p></li>
<li><p><a class="reference internal" href="#what-s-more" id="id9">What’s more</a></p></li>
<li><p><a class="reference internal" href="#conclusion" id="id10">Conclusion</a></p></li>
<li><p><a class="reference internal" href="#what-s-next" id="id11">What’s Next</a></p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="motivation">
<h2><a class="toc-backref" href="#id5">Motivation</a><a class="headerlink" href="#motivation" title="Permalink to this headline">¶</a></h2>
<p>In order to better monitor, and debug the running and lifetime of Peas, Pods, and Flows, Jina offers configurable logging.</p>
</div>
<div class="section" id="before-you-start">
<h2><a class="toc-backref" href="#id6">Before you start</a><a class="headerlink" href="#before-you-start" title="Permalink to this headline">¶</a></h2>
<p>You have installed the latest stable release of Jina Core according to the instructions found <a class="reference external" href="https://docs.jina.ai/chapters/install/index.html">here</a> .</p>
</div>
<div class="section" id="overview">
<h2><a class="toc-backref" href="#id7">Overview</a><a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<div class="section" id="jina-logging-messages-at-first-glance">
<h3>Jina logging messages at first glance<a class="headerlink" href="#jina-logging-messages-at-first-glance" title="Permalink to this headline">¶</a></h3>
<p>Let’s start from a logging example.
Jina logs messages with different formats in different situations.
The example below follows the most commonly used format:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pod1@25908<span class="o">[</span>I<span class="o">]</span>:starting jina.peapods.runtimes.zmq.zed.ZEDRuntime...
pod1@25908<span class="o">[</span>I<span class="o">]</span>:input tcp://0.0.0.0:63915 <span class="o">(</span>PULL_BIND<span class="o">)</span> output tcp://0.0.0.0:63916 <span class="o">(</span>PUSH_BIND<span class="o">)</span> control over tcp://0.0.0.0:63914 <span class="o">(</span>PAIR_BIND<span class="o">)</span>
pod1@25903<span class="o">[</span>S<span class="o">]</span>:ready and listening
</pre></div>
</div>
<p>This is how the message is composed:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>pod_name@process_id[log_level]:message
</pre></div>
</div>
<p>Jina has six different log levels (DEBUG, INFO, WARNING, ERROR, CRITICAL, SUCCESS).
The default level can be controlled by the <code class="docutils literal notranslate"><span class="pre">JINA_LOG_LEVEL</span></code> environment variable or in YAML configuration.</p>
</div>
<div class="section" id="logging-handler">
<h3>Logging handler<a class="headerlink" href="#logging-handler" title="Permalink to this headline">¶</a></h3>
<p>You can control where the logs are sent/stored by using different logging handlers.
Jina supports four different handlers:</p>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">FileHandler</span></code> puts the logs in local files either as simple text or as json format.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">StreamHandler</span></code> prints the logs in each Pea’s local stdout, which you can view in console.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">SysLogHandler</span></code> outputs logs to system logs.
When host and port are not given it records locally, /dev/log on linux /var/run/syslog on mac.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">FluentHandler</span></code> caters for the distributed nature of Jina’s Peas and Pods.
FluentD has its own configuration to forward the messages according to its own syntax.</p></li>
</ul>
</div>
</div>
<div class="section" id="logging-configuration-in-action">
<h2><a class="toc-backref" href="#id8">Logging Configuration in Action</a><a class="headerlink" href="#logging-configuration-in-action" title="Permalink to this headline">¶</a></h2>
<p>You can configure the logging either on <code class="docutils literal notranslate"><span class="pre">Flow</span></code> level</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="n">Flow</span><span class="p">(</span><span class="n">log_config</span><span class="o">=</span><span class="s1">&#39;logging_cfg.yml&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">add</span><span class="p">()</span><span class="o">.</span><span class="n">add</span><span class="p">()</span>
</pre></div>
</div>
<p>or <code class="docutils literal notranslate"><span class="pre">Pod</span></code> level</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="n">Flow</span><span class="p">()</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">log_config</span><span class="o">=</span><span class="s1">&#39;logging_cfg.yml&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">add</span><span class="p">()</span>
</pre></div>
</div>
<p>In a YAML file you can customize the logger, choose the handler you need to monitor and save logs.
<code class="docutils literal notranslate"><span class="pre">logging_cfg.yml</span></code> can be configured as follows:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">handlers</span><span class="p">:</span>  <span class="c1"># enabled handlers, order does not matter</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">StreamHandler</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">SysLogHandler</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">FluentHandler</span>
<span class="nt">level</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">INFO</span>
<span class="nt">configs</span><span class="p">:</span>
  <span class="nt">FileHandler</span><span class="p">:</span>
    <span class="nt">format</span><span class="p">:</span> <span class="s">&#39;%(asctime)s:{name:&gt;15}@%(process)2d[%(levelname).1s]:%(message)s&#39;</span>
    <span class="nt">output</span><span class="p">:</span> <span class="s">&#39;jina-{uptime}.log&#39;</span>
    <span class="nt">formatter</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">JsonFormatter</span>
  <span class="nt">StreamHandler</span><span class="p">:</span>
    <span class="nt">format</span><span class="p">:</span> <span class="s">&#39;{name:&gt;15}@%(process)2d[%(levelname).1s]:%(message)s&#39;</span>
    <span class="nt">formatter</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">ColorFormatter</span>
  <span class="nt">SysLogHandler</span><span class="p">:</span>
    <span class="nt">ident</span><span class="p">:</span> <span class="c1"># this will be prepend to all messages</span>
    <span class="nt">format</span><span class="p">:</span> <span class="s">&#39;{name:&gt;15}@%(process)2d[%(levelname).1s]:%(message)s&#39;</span>
    <span class="nt">host</span><span class="p">:</span> <span class="c1"># when not given then record it locally, /dev/log on linux /var/run/syslog on mac</span>
    <span class="nt">port</span><span class="p">:</span> <span class="c1"># when not given then record it locally,  /dev/log on linux /var/run/syslog on mac</span>
    <span class="nt">formatter</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">PlainFormatter</span>
  <span class="nt">FluentHandler</span><span class="p">:</span>
    <span class="c1"># this configuration describes where is the fluentD daemon running and waiting for logs to be emitted.</span>
    <span class="c1"># FluentD then will have its own configuration to forward the messages according to its own syntax</span>
    <span class="c1"># prefix will help fluentD filter data. This will be prepended for FluentD to easily filter incoming messages</span>
    <span class="nt">tag</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">jina</span>
    <span class="nt">host</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0.0.0.0</span>
    <span class="nt">port</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">24224</span>
    <span class="nt">format</span><span class="p">:</span>
      <span class="nt">host</span><span class="p">:</span> <span class="s">&#39;%(hostname)s&#39;</span>
      <span class="nt">process</span><span class="p">:</span> <span class="s">&#39;%(process)s&#39;</span>
      <span class="nt">type</span><span class="p">:</span> <span class="s">&#39;%(levelname)s&#39;</span>
</pre></div>
</div>
<p>If you want to hide the logs of a certain Pod, you can set <code class="docutils literal notranslate"><span class="pre">quiet=True</span></code> in a Flow like:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="n">Flow</span><span class="p">()</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">quiet</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">add</span><span class="p">()</span>
<span class="k">with</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">f</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">Document</span><span class="p">())</span>
</pre></div>
</div>
<p>Or in YAML Flow configuration:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="kt">!Flow</span>
<span class="nt">pods</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">uses</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Pod1.yml</span>
    <span class="nt">quiet</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
  <span class="p p-Indicator">-</span> <span class="nt">uses</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Pod2.yml</span>
</pre></div>
</div>
</div>
<div class="section" id="what-s-more">
<h2><a class="toc-backref" href="#id9">What’s more</a><a class="headerlink" href="#what-s-more" title="Permalink to this headline">¶</a></h2>
<div class="section" id="fluentd">
<h3>FluentD<a class="headerlink" href="#fluentd" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://github.com/fluent/fluentd">Fluentd</a> is an open source data collector for unified logging layer.</p>
<p><a class="reference external" href="https://github.com/fluent/fluentd">Fluentd</a> is expected to be used as a daemon receiving messages from the Jina logger and forwarding them to specific outputs using its output plugins and configurations.</p>
<p>Although fluentd can be configured to forward logs to the user’s preferred destinations, Jina offers a default configuration under <cite>/resources</cite> folder which expects a fluentd daemon to be running
inside every machine running a Jina instance or Pea.
Then the default configuration must be adapted to send the logs to the specific server where the Flow and the dashboard will be run.
(This default behavior will evolve)</p>
<p>See the default <cite>fluent.conf</cite> configuration provided by Jina.
It takes every input coming in the listening 24224 port and depending on the kind of message, sends it to a local temporary file, from where the Flow will read the incoming file.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span>&lt;source&gt;
  @type forward
  @id http_input

  port 24224
&lt;/source&gt;

## match tag=myapp.** and forward and write to file in local
&lt;match jina.**&gt;
  @type file
  path /tmp/jina-log
  append true
  &lt;buffer&gt;
      @type file
      flush_mode interval
      flush_interval 1s
  &lt;/buffer&gt;
&lt;/match&gt;

&lt;match jina-profile.**&gt;
  @type file
  path /tmp/jina-profile
  append true
  &lt;buffer&gt;
      @type file
      flush_mode interval
      flush_interval 1s
  &lt;/buffer&gt;
&lt;/match&gt;
</pre></div>
</div>
<p>This is the default configuration, that works well together with the configuration provided in <code class="docutils literal notranslate"><span class="pre">logging.fluentd.yml</span></code>.
It controls the tags assigned to the different type of logs, as well as the host and port where the handler will send the logs.
By default it expects a fluentd daemon to run in every local and remote Pea (this is the most scalable configuration).</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">tag</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">jina</span>
<span class="nt">profile-tag</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">jina-profile</span>
<span class="nt">host</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0.0.0.0</span>
<span class="nt">port</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">24224</span>
</pre></div>
</div>
<p>To better understand fluentd configuration and to see how you can adapt to your needs, please see <a class="reference external" href="https://docs.fluentd.org/configuration">Fluentd docs</a>.</p>
</div>
<div class="section" id="start-fluentd-daemon">
<h3>Start fluentd daemon<a class="headerlink" href="#start-fluentd-daemon" title="Permalink to this headline">¶</a></h3>
<p>For the logging using fluentd to work and therefore for the dashboard to properly have access to the logs, the user needs to start fluentd daemon.
It can be done in every remote and local machine or just in the host where the FluentDHandler will send the logs.</p>
<ul class="simple">
<li><p>Install <a class="reference external" href="https://docs.fluentd.org/installation">https://docs.fluentd.org/installation</a> .</p></li>
<li><p>Run <code class="docutils literal notranslate"><span class="pre">fluentd</span> <span class="pre">-c</span> <span class="pre">${FLUENTD_CONF_FILE}</span></code> (Default conf file <code class="docutils literal notranslate"><span class="pre">${JINA_RESOURCES_PATH}/fluent.conf</span></code>)</p></li>
</ul>
</div>
</div>
<div class="section" id="conclusion">
<h2><a class="toc-backref" href="#id10">Conclusion</a><a class="headerlink" href="#conclusion" title="Permalink to this headline">¶</a></h2>
<p>In this guide, we introduced the Jina Logger and how we can configure the logging in Jina.</p>
</div>
<div class="section" id="what-s-next">
<h2><a class="toc-backref" href="#id11">What’s Next</a><a class="headerlink" href="#what-s-next" title="Permalink to this headline">¶</a></h2>
<p>If you still have questions, feel free to <a class="reference external" href="https://github.com/jina-ai/jina/issues">submit an issue</a> or post a message in our <a class="reference external" href="https://slack.jina.ai">community slack channel</a> .</p>
<p>To gain deeper knowledge on the implementation of Jina logging, you can find the source code <a class="reference external" href="https://github.com/jina-ai/jina/tree/master/jina/logging">here</a>.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        
        <a href="../cli/exit/" class="btn btn-neutral float-right" title="Exiting a Flow"
           accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
        
        
        <a href="../sparse/" class="btn btn-neutral float-left" title="Using Sparse Embeddings"
           accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
        
    </div>
    

    <hr/>

    <div role="contentinfo">
        <nav class="devsite-footer-linkboxes nocontent" aria-label="Footer links">

            <ul class="devsite-footer-linkboxes-list">

                <li class="devsite-footer-linkbox ">
                    <h3 class="devsite-footer-linkbox-heading no-link">Stay connected</h3>
                    <ul class="devsite-footer-linkbox-list">

                        <li class="devsite-footer-linkbox-item">

                            <a href="https://github.com/jina-ai/jina" class="devsite-footer-linkbox-link gc-analytics-event"
                               data-category="Site-Wide Custom Events" data-label="Footer Link (index 2)">

                                <i class="fab fa-github"></i> GitHub

                            </a>

                        </li>

                        <li class="devsite-footer-linkbox-item">

                            <a href="https://www.linkedin.com/company/jinaai/" class="devsite-footer-linkbox-link gc-analytics-event"
                               data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">

                                <i class="fab fa-linkedin"></i> LinkedIn

                            </a>

                        </li>



                        <li class="devsite-footer-linkbox-item">

                            <a href="https://twitter.com/JinaAI_" class="devsite-footer-linkbox-link gc-analytics-event"
                               data-category="Site-Wide Custom Events" data-label="Footer Link (index 3)">

                                <i class="fab fa-twitter"></i> Twitter

                            </a>

                        </li>

                        <li class="devsite-footer-linkbox-item">

                            <a href="https://www.youtube.com/c/JinaAI" class="devsite-footer-linkbox-link gc-analytics-event"
                               data-category="Site-Wide Custom Events" data-label="Footer Link (index 4)">

                                <i class="fab fa-youtube"></i> YouTube

                            </a>

                        </li>

                    </ul>
                </li>

                <li class="devsite-footer-linkbox ">
                    <h3 class="devsite-footer-linkbox-heading no-link">Support</h3>
                    <ul class="devsite-footer-linkbox-list">
                        <li class="devsite-footer-linkbox-item">

                            <a href="https://slack.jina.ai"
                               class="devsite-footer-linkbox-link gc-analytics-event"
                               data-category="Site-Wide Custom Events" data-label="Footer Link (index 3)">

                                <i class="fab fa-slack"></i> Slack community

                            </a>

                        </li>

                        <li class="devsite-footer-linkbox-item">

                            <a href="https://github.com/jina-ai/jina/issues"
                               class="devsite-footer-linkbox-link gc-analytics-event"
                               data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">

                                Issue tracker

                            </a>

                        </li>

                        <li class="devsite-footer-linkbox-item">

                            <a href="https://github.com/jina-ai/jina/blob/master/CHANGELOG.md"
                               class="devsite-footer-linkbox-link gc-analytics-event"
                               data-category="Site-Wide Custom Events" data-label="Footer Link (index 2)">

                                Release notes

                            </a>

                        </li>



                        <li class="devsite-footer-linkbox-item">

                            <a href="https://career.jina.ai"
                               class="devsite-footer-linkbox-link gc-analytics-event"
                               data-category="Site-Wide Custom Events" data-label="Footer Link (index 4)">

                                Career@Jina AI

                            </a>

                        </li>


                    </ul>
                </li>

            </ul>

        </nav>
        <p>
            
            &copy; Copyright Jina AI Limited. All rights reserved.
            <span class="lastupdated">
        Last updated on Jun 10, 2021.
      </span>

        </p>
    </div> 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });

      function showhide_navbar() {
      var x = document.getElementsByClassName("wy-nav-side")[0];
      var y = document.getElementsByClassName("wy-nav-content-wrap")[0];
      var z = document.getElementById("showhide-navbar-btn");
      if (x.style.display === "none") {
        x.style.display = "block";
        y.style.marginLeft = "300px";
        z.style.left = "300px";
      } else {
        x.style.display = "none";
        y.style.marginLeft = "0";
        z.style.left = "0px";
      }
    }

  </script>

  <!-- Search box becomes active when you press the slash(/) key anywhere on the page-->
  <script>
    const body = document.querySelector('body');
    const searchBox = document.querySelector('form').querySelector('input[type="text"]');

    body.addEventListener('keyup', event => {
      event.preventDefault()
      if (event.key === '/') {
        searchBox.focus();
      }
    });
  </script>

  
  
    
    <!-- Theme Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-164627626-3', 'auto');
    ga('send', 'pageview');
    </script>

    
   

</body>
</html>